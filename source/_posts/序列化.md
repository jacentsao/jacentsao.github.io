---
title: 序列化
date: 2017-02-26 20:18:04
tags: Android
categories: Android
---


在Android中我们经常使用到序列化来进行数据传递,比如Intent和Binder,或者将对象持久化到存储设备或者通过网络传输到其他设备的时候.通常我们会有两种方式来实现序列化: 1.Serializable 2.Parcelable 

##### 1. Serializable方式实现序列化
Serializable是java中所提供的一个序列化接口，它是空接口。通常我们可以通过实现Serializable接口来实现序列化，为对象提供标准的序列化和反序列化操作。同时我们注意到在实现该接口的时候我们会有一个long型的serialVersionUID，这个serialVersionUID主要是用于反序列化。如下所示：

	public class User implements Serializable {
	    private static final long serialVersionUID = 7990301608074625143L;
	    public static int GENDAT_FEMALE = 0;
	    public static int GENDAT_MALE = 1;
	    private String name;
	
	    private int age;
	
	    private int gendar;
	
	    transient //序列化的时候忽略该字段
	    private int test;
    }

以上面的User类为例，将其一个对象写入文件以后再从文件读取：
	
			User user = new User("Max", 0, 0, 0);
			ObjectOutputStream outputStream = new ObjectOutputStream(new FileOutputStream(path));
            outputStream.writeObject(user);
            outputStream.close();
            
            ObjectInputStream inputStream = new ObjectInputStream(new FileInputStream(path));
            User reader = (User) inputStream.readObject();
            Toast.makeText(this, reader.toString(), Toast.LENGTH_LONG).show();
            
            
当把对象user写入到文件中的时候，同时会写入对象的serialVersionUID，在从文件中读取对象的时候，    

